<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>npm中的package.json介绍 &#8211; FrontEnder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="翻译npm官方页面">
    <meta name="author" content="Long Wang">
    <meta name="keywords" content="github">
    <link rel="canonical" href="//github/2014/11/12/post-package-json-in-npm/">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/pixyll.css" type="text/css">

    <!-- Fonts -->
    <!--
    <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Lato:900,300' rel='stylesheet' type='text/css'>
    -->
</head>

<body class="">
  <div class="site-wrap">
    <header class="site-header px2 px-responsive">
  <div class="mt2 wrap">
    <div class="measure">
      <a href="/" class="site-title">FrontEnder</a>
      <nav class="site-nav right">
        <a href="/about/">About</a>

      </nav>
      <div class="clearfix"></div>
    </div>
  </div>
</header>


    <div class="post p2 p-responsive wrap" role="main">
      <div class="measure">
        




<div class="post-header mb2">
  <h1 class="py2">npm中的package.json介绍</h1>
  <span class="post-meta">Nov 12, 2014</span><br>
  
  <span class="post-meta small">1 minute read</span>
</div>

<article class="post-content">
  <h4 id="section">介绍</h4>

<p>这个文档里有所有你需要知道的package.json字段的信息，package.json必须是一个JSON，而不仅仅是JavaScript对象字面量。</p>

<p>这个配置文件里设置的配置作用是会受到npm config里的配置影响到的。</p>

<h5 id="name">name</h5>

<p>在package.json中最重要的信息字段就是<code>name</code>和<code>version</code>。这2个也是确实必须包含的字段，如果没有这2个字段，你的这个包就安装不上。name和version字段组合在一起就形成了一个唯一的标示。包的变动需要伴随着版本号的变动。</p>

<p><code>name</code>就是你的这个包叫什么，一些提示：</p>

<ul>
  <li>不要把”js”和”node”写到name里。自从你开始写这个package.json文件开始，这个项目就是一个js项目，所以你不需要重复指明了，并且你还可以在下面要讲到的<code>engines</code>字段里可以配置nodejs的版本。</li>
  <li>这个名字将来会放到URL的结尾处、作为命令行参数使用和作为文件夹名字。所以，任何会引起url不安全的字符都不能使用，并且不能以<em>点</em>和<em>下划线</em>开头。</li>
  <li>这个名字将来会被作为require()的参数传入到程序中，所以应该尽量的短一些，并且能够见名知意。</li>
  <li>你还需要在<a href="http://registry.npmjs.org/">这里</a>查看你的名字是否被占用。假如你的包名字是：npmdemo，你可以这样访问这个地址查看是否被占用：http://registry.npmjs.org/npmdemo</li>
</ul>

<p>包名也可能会被加上范围前缀，比如<code>@myorg/mypackage</code>。具体可以找到 <code>npm-scope(7)</code>查看更多细节。</p>

<h5 id="version">version</h5>

<p>在package.json中最重要的信息字段就是<code>name</code>和<code>version</code>。这2个也是确实必须包含的字段，如果没有这2个字段，你的这个包就安装不上。name和version字段组合在一起就形成了一个唯一的标示。包的变动需要伴随着版本号的变动。</p>

<p>你的版本号必须能够被 <code>node-semver</code>正确解析，也就是说符合语义化的版本发布规则。这个模块已经跟npm绑定在一起了。(<code>npm install semver</code> 来安装使用)</p>

<p>更多关于版本和取值范围的介绍可以看 semver(7)。</p>

<h5 id="description">description</h5>

<p>是一个字符串形式的描述，可以帮助人们找到你的包，它出现在 <code>npm search</code> 列表里。</p>

<h5 id="keywords">keywords</h5>

<p>关于包关键字的一个字符串数组，可以帮助人们找到你的包，它出现在<code>npm search</code>列表里。</p>

<h5 id="homepage">homepage</h5>

<p>项目首页的链接地址</p>

<h5 id="bugs">bugs</h5>

<p>里面包含了<code>url</code>和<code>email</code>字段，表示当使用者发现这个包有问题的时候，把问题提交到哪个地址或者发往哪个邮箱。</p>

<p>这个字段看起来可能这样：</p>

<pre><code>	{ "url" : "http://github.com/owner/project/issues"
	, "email" : "project@hostname.com"
	}
</code></pre>

<p>你可以写上上面的任何一个字段或者两个字段都写上，你也可以使用一个地址字符串代替这个对象。</p>

<p>如果提供得是url形式的字符串，会被用于<code>npm bugs</code>命令。</p>

<h5 id="licese">licese</h5>

<p>你应该给你的包提供一个授权协议，这样人们才能知道如何才能获得你的使用授权，有哪些限制。</p>

<p>最简单的方式就是使用标准的类似BSD-3-Clause或者MIT等授权。就像这样：</p>

<pre><code>	{"licese":"BSD-3-Clause"}
</code></pre>

<p>你可以查看<a href="https://spdx.org/licenses/">完整的授权类型</a>。理想情况下推荐你选择 <a href="http://opensource.org/licenses/alphabetical">OSI</a>。</p>

<p>你也可以在你的包文件里包含一个LICESE文件。</p>

<h5 id="authorcontributors">author/contributors</h5>

<p>作者是一个人，这里是一个对象存储，里面有名字、邮箱、主页地址等信息，就像这样：</p>

<pre><code>		{ "name" : "Barney Rubble"
		, "email" : "b@rubble.com"
		, "url" : "http://barnyrubble.tumblr.com/"
		}
</code></pre>

<p>你也可以像如下形式的简写，npm也能够解析：</p>

<pre><code>	"Barney Rubble &lt;b@rubble.com&gt; (http://barnyrubble.tumblr.com/)"
</code></pre>

<p>邮箱和网址都是可选的。</p>

<p>npm也设置了一个最高级别的维护字段”maintainers”用户保存这个包的贡献者。</p>

<h5 id="files">files</h5>

<p>这个字段是一个文件列表数组。如果你在数组的一项里书写的是一个文件夹，那么这个文件夹下地所有的文件默认是被包含进去的（除非你在其他的忽略文件中明确指出）。</p>

<p>你也可以书写一个<code>.npmignore</code>文件放在你的包的根目录，这个文件里列举的文件会被包忽略，就像<code>.gitignore</code>的作用一样。</p>

<h5 id="main">main</h5>

<p>这个字段是模块的ID，也是你整个包文件运行的入口。具体哪个文件是你的入口文件，这里是设置的地方。</p>

<h5 id="bin">bin</h5>

<p>经常有一些包可以在全局就可以运行，那么你就可以在这里设置，设置代码类似：</p>

<pre><code>	{ "bin" : { "npm" : "./cli.js" } } 所以当你安装了这个包之后，npm就会创建`cli.js`软链接放在`/usr/local/bin/npm`下面。
</code></pre>

<p>下面的两种方式是等价的：</p>

<pre><code>	{ "name": "my-program"
	, "version": "1.2.5"
	, "bin": "./path/to/program" }
</code></pre>

<p>跟这个是一样得：</p>

<pre><code>	{ "name": "my-program"
	, "version": "1.2.5"
	, "bin" : { "my-program" : "./path/to/program" } }
</code></pre>


</article>

      </div>
    </div>
  </div>

  <footer class="footer">
  <div class="p2 wrap">
    <div class="measure mt1 center">
      <small>
        &copy;2014 By <a href="mailto:yonglong.wyl@alibaba-inc.com">龙芒</a>
      </small>
    </div>
  </div>
</footer>

</body>
</html>
